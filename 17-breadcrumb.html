<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>封装一个面包屑导航</title>
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css">
</head>

<body ng-app="myApp" ng-controller="DemoController">

  <breadcrumb data="{{pathData1}}"></breadcrumb>
  <breadcrumb data="{{pathData2}}"></breadcrumb>

  <script src="bower_components/angular/angular.js"></script>

  <script>
    var myApp = angular.module('myApp', []);

    myApp.controller('DemoController', ['$scope', function($scope) {
      $scope.pathData1 = {
        home: '#',
        itcast: '#',
        itheima: '#',
        bbs: '#'
      };
      $scope.pathData2 = {
        home: '#',
        library: '#',
        data: '#'
      };
    }]);

    // 定义一个面包屑导航指令
    myApp.directive('breadcrumb', [function() {
      // 返回指令对象
      return {
        scope: {},
        templateUrl: 'tmpls/breadcrumb.html',
        replace: true,
        //操作dom阶段   attributes拿到breadcrumb标签里的data属性
        link: function(scope, element, attributes) {
          scope.data = JSON.parse(attributes.data);
          // console.log(scope.data);
        }
      };
    }]);
  </script>
</body>

</html>
